SNI.utils=function($){var utf8_encode=function(val){return escape(decodeURIComponent(val))};return{buildQuery:function(params,exclude,showOnly){var keys=[],query="";if(exclude=exclude||[],(showOnly=showOnly||[]).length)keys=showOnly;else for(var k in params)exclude.length&&-1!==exclude.indexOf(k)||keys.push(k);keys.sort();for(var i=0;i<keys.length;i++){var key=keys[i],value=params[key];if("cab"===key||"box"===key||"drive"===key||"wheelbase"===key)query+="attributes="+key+":"+value+"&";else if("variation"===key)query+=keys[i]+"="+value+"&";else if("string"==typeof value||"number"==typeof value)query+=keys[i]+"="+utf8_encode(value)+"&";else if(Array.isArray(value))query+=key+"=",value.forEach(function(val,index){index&&(query+=","),query+=utf8_encode(val)}),query+="&";else if("attributes"===key||"optionCategories"===key)for(var attribute in params[key])query+=key+"="+attribute+":"+params[key][attribute].join(",")+"&";else if("ranges"===key)for(var range in params[key])for(var type in params[key][range])query+="ranges="+range+":"+type+":"+params[key][range][type][0]+"&"}return query.replace(/&$/,"")},getDeviceType:function(){var width=0<window.innerWidth?window.innerWidth:screen.width;return 960<=width?"desktop":768<=width?"tablet":"mobile"},getDistanceToPrecision:function(v,roundDown){var minimumPrecision=1;if(v="number"!=typeof v?Number(v):v,roundDown="boolean"==typeof roundDown&&roundDown,!isNaN(v))return roundDown&&(v=Number(v.toString().replace(/(\.)([9]{2,})/,"$19"))),minimumPrecision+=parseInt(v).toString().length,v.toPrecision(minimumPrecision)},getLocaleString:function(v){return v?v.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):""}}}(jQuery);