var VehicleMethods={getBaseModel:function(obj){var base_model="";if(obj.ccode)base_model=this.getModelFromCcode(obj.ccode);else if(obj.model)base_model=obj.model;else if(obj.trim){base_model=this.getAvailableModels(obj)[0]}else base_model=this.model_years[obj.year][obj.vehicle].base;return base_model},getHighestModel:function(obj){var model_array=this.getAvailableModels(obj);return model_array[model_array.length-1]},getVehicleObject:function(obj){return obj.ccode?this.model_years[obj.ccode.substr(3,4)][this.getFamilyFromMYC(obj.ccode.substr(0,9))]:this.model_years[obj.year][obj.vehicle]},getMSRP:function(obj,formatInt){var veh=this.getVehicleObject(obj);if(obj.model)msrp=veh.models[obj.model].msrp;else var msrp=veh.models[this.getBaseModel(obj)].msrp;return void 0!==formatInt&&formatInt||(msrp="$"+msrp.replace(/(\d?\d)(\d{3})$/,"$1,$2")),msrp},getMPG:function(obj,mpg_type){void 0!==mpg_type&&mpg_type||(mpg_type="hwy");var veh=this.getVehicleObject(obj);if(!obj.model){if(!obj.trim){if(!veh.mpg)return null;var mpg_model=veh.mpg;return veh.models[mpg_model].mpg[mpg_type]}for(var cur_model,highest_mpg,models=this.getAvailableModels(obj),i=0;i<models.length;i++)cur_model=models[i],(!mpg_model||veh.models[cur_model].mpg.hwy>highest_mpg)&&(mpg_model=cur_model,highest_mpg=veh.models[cur_model].mpg.hwy);return veh.models[mpg_model].mpg[mpg_type]}return veh.models[obj.model].mpg[mpg_type]},getImg:function(obj,params,height,width){var model,year,vehicle,ccode,resp="jpg",bkgnd="",img_src="";this.brand,this.brand,location.hostname.indexOf("m.");"object"==typeof params?(height=params.height||"",width=params.width||"",resp=params.resp||"jpg",bkgnd=params.bkgnd||"",params.pov):"string"==typeof params&&(resp=params);try{return obj.ccode?(ccode=obj.ccode,year=obj.ccode.substr(3,4),vehicle=this.getFamilyFromMYC(obj.ccode.substr(0,9))):(year=obj.year,vehicle=obj.vehicle),model=obj.model?obj.model:this.getBaseModel(obj),ccode||(ccode=this.getCcode({year:year,vehicle:vehicle,model:model})),this.getLLP({year:year,vehicle:vehicle,model:model}),img_src=this.model_years[year][vehicle].models[model].image_src,img_src=(/^(es\.|es-m|m\.|www\.)/.test(location.hostname)?"//www.":"//preview.")+this.brand+".com/mediaserver/iris?"+img_src,img_src+="&pov=fronthero&width="+width+"&height="+height+"&bkgnd="+bkgnd+"&resp="+resp+"&cut="}catch(e){return"/assets/images/blank.gif"}},getDescription:function(obj){var vehicle=this.model_years[obj.year][obj.vehicle],display=obj.year+" "+vehicle.display;return obj.model?vehicle.models[obj.model].d||vehicle.models[obj.model].display:obj.trim?display+" "+this.getTrimDisplay(obj):display},getDisplay:function(obj){return obj.model?this.model_years[obj.year][obj.vehicle].models[obj.model].display:this.model_years[obj.year][obj.vehicle].display},getTrimDisplay:function(obj){var trim_display="",vehicle=this.model_years[obj.year][obj.vehicle];if(obj.model)trim_display=vehicle.models[obj.model].trim_display;else for(var i in vehicle.models)if(vehicle.models[i].trim==obj.trim){trim_display=vehicle.models[i].trim_display;break}return trim_display},getTrim:function(obj){var trim="",vehicle=this.getVehicleObject(obj);if(obj.model)trim=vehicle.models[obj.model].trim;else for(var i in vehicle.models)if(vehicle.models[i].trim==obj.trim){trim=vehicle.models[i].trim;break}return trim},getCcode:function(obj){var model="";return model=obj.model?obj.model:this.getBaseModel(obj),this.model_years[obj.year][obj.vehicle].models[model].ccode},getLLP:function(obj){var model="";return model=obj.model?obj.model:this.getBaseModel(obj),this.model_years[obj.year][obj.vehicle].models[model].llp},getModelYearCode:function(obj){return this.model_years[obj.year][obj.vehicle].myc},getInventoryCode:function(obj){if(obj.model)inventoryCode=this.model_years[obj.year][obj.vehicle].models[obj.model].ccode;else var inventoryCode=this.model_years[obj.year][obj.vehicle].myc;return inventoryCode.replace(/\bCU/,"IU")},getAvailableModels:function(obj){if(obj.model)return[obj.model];if(obj.ccode)return this.getModelFromCcode(obj.ccode);var modelArray=[],vehicle=this.model_years[obj.year][obj.vehicle];for(var i in vehicle.models)vehicle.models[i].active&&modelArray.push(i);return obj.trim&&(modelArray=modelArray.filter(function(element,index,array){return Vehicles.model_years[obj.year][obj.vehicle].models[element].trim==obj.trim})),isFinite(obj.drive)&&(modelArray=modelArray.filter(function(element,index,array){return Vehicles.model_years[obj.year][obj.vehicle].models[element].variation_id.substr(0,1)==obj.drive})),isFinite(obj.seating)?modelArray=modelArray.filter(function(element,index,array){return Vehicles.model_years[obj.year][obj.vehicle].models[element].variation_id.substr(2,1)==obj.seating}):(isFinite(obj.cab)&&(modelArray=modelArray.filter(function(element,index,array){return Vehicles.model_years[obj.year][obj.vehicle].models[element].variation_id.substr(2,1)==obj.cab})),modelArray)},getAvailableTrims:function(obj){var trims=[],curTrim="",veh=this.getVehicleObject(obj);if(!Vehicles.inventory)return this.model_years[obj.year][obj.vehicle].trims;for(var i in veh.models)curTrim=veh.models[i].trim,-1===trims.indexOf(curTrim)&&trims.push(curTrim);return trims},getAvailableYears:function(obj){var years=[];if(this.inventory)for(var i in years=this.active_years,this.model_years)-1==years.indexOf(i)&&years.push(i);else years=this.active_years;if("object"==typeof obj&&obj.vehicle){for(var y=[],j=0;j<years.length;j++){-1!=this.getAvailableVehicles({year:years[j]}).indexOf(obj.vehicle)&&y.push(years[j])}return y}return years},getAvailableVehicles:function(obj){var vehicleArray=[];if(void 0===obj)for(var years=this.getAvailableYears(),i=0;i<years.length;i++)for(var j in this.model_years[years[i]])(this.model_years[years[i]][j].active||this.inventory)&&-1==vehicleArray.indexOf(j)&&vehicleArray.push(j);else for(var i in this.model_years[obj.year])(1==this.model_years[obj.year][i].active||this.inventory)&&vehicleArray.push(i);return vehicleArray},getDivision:function(){return this.division},getBrand:function(){return this.brand},getFamilyCode:function(obj){var code="";for(var i in this.model_years){var cur_year=this.model_years[i];if(cur_year[obj.vehicle]){code=cur_year[obj.vehicle].myc.substr(7);break}}return code},getFamilyFromMYC:function(myc){var year_obj=this.model_years[myc.substr(3,4)],family="";for(var i in year_obj)if(year_obj[i].myc.substr(1)==myc.substr(1)){family=i;break}return family},getModelFromCcode:function(ccode){var family=this.getFamilyFromMYC(ccode.substr(0,9)),veh_obj=this.model_years[ccode.substr(3,4)][family].models,model="";for(var j in veh_obj)if(veh_obj[j].ccode.substr(1)==ccode.substr(1)){model=j;break}return model},getTrimFromCcode:function(ccode){var family=this.getFamilyFromMYC(ccode.substr(0,9)),model=this.getModelFromCcode(ccode);return this.model_years[ccode.substr(3,4)][family].models[model].trim},getYearFromMYC:function(myc){return myc.substr(3,4)},getVariation:function(context){return this.model_years[context.year][context.vehicle].models[context.model].variation_id},getAvailableDrives:function(context){var vehicle=this.model_years[context.year][context.vehicle],variations=vehicle.drives,drives=[];if(context.trim||context.model){for(var models=this.getAvailableModels(context),availDrives=[],i=0;i<models.length;i++){var drive_id=vehicle.models[models[i]].variation_id.substr(0,1);-1==availDrives.indexOf(drive_id)&&availDrives.push(drive_id)}for(var j=0;j<availDrives.length;j++)drives.push({id:parseInt(availDrives[j]),name:variations[availDrives[j]].name})}else for(i=0;i<variations.length;i++)drives.push({id:variations[i].id,name:variations[i].name});return drives},getAvailableCabs:function(context){var vehicle=this.model_years[context.year][context.vehicle];if(!(vehicle.drives&&isFinite(context.drive)&&vehicle.drives[context.drive]&&vehicle.drives[context.drive].cabs))return[];for(var models=Vehicles.getAvailableModels(context),drives=vehicle.drives,availCabs=[],cabs=[],i=0;i<models.length;i++){var cab_id=vehicle.models[models[i]].variation_id.substr(2,1);-1==availCabs.indexOf(cab_id)&&availCabs.push(cab_id)}for(var j=0;j<availCabs.length;j++)cabs.push(drives[context.drive].cabs[availCabs[j]]);return cabs},getAvailableSeatings:function(context){var vehicle=this.model_years[context.year][context.vehicle];if(!(vehicle&&vehicle.drives&&isFinite(context.drive)&&vehicle.drives[context.drive]&&vehicle.drives[context.drive].seating))return[];for(var models=Vehicles.getAvailableModels(context),drives=vehicle.drives,availSeating=[],seating=[],i=0;i<models.length;i++){var seating_id=vehicle.models[models[i]].variation_id.substr(2,1);-1==availSeating.indexOf(seating_id)&&availSeating.push(seating_id)}for(var j=0;j<availSeating.length;j++)drives[context.drive].seating[availSeating[j]]&&seating.push(drives[context.drive].seating[availSeating[j]]);return seating},getTowing:function(obj){try{var veh=this.model_years[obj.year][obj.vehicle];if(obj.model)return{towing:veh.models[obj.model].towing,payload:veh.models[obj.model].payload};if(obj.trim){var mod=this.getAvailableModels(obj);return mod=mod.sort(function(a,b){return veh.models[b].towing-veh.models[a].towing}),{towing:veh.models[mod[0]].towing,payload:veh.models[mod[0]].payload}}return{towing:veh.models[veh.towing].towing,payload:veh.models[veh.towing].payload}}catch(e){return{towing:"NA",payload:"NA"}}}},Vehicles=Vehicles?Object.assign(Vehicles,VehicleMethods):{};