!function(){function jsonSafeParse(v){var returnValue;if(!v)return returnValue;try{returnValue=JSON.parse(v.toString())}catch(ex){returnValue=void 0}return returnValue}function jsonSafeStringify(v,noEmptyObject){var returnValue,shouldStringify;if(v&&"object"==typeof v&&("undefined"!=typeof document&&v instanceof HTMLElement||(shouldStringify=!0)),shouldStringify)try{returnValue=JSON.stringify(v)}catch(error){returnValue=void 0}return noEmptyObject&&"{}"===returnValue&&(returnValue=void 0),returnValue}function getPaymentCalculatorFormSessionObj(){return jsonSafeParse(sessionStorage.getItem("paymentCalculatorFormSession"))}function updatePaymentCalculatorFormSessionObj(args){var paymentCalculatorFormSessionObj=getPaymentCalculatorFormSessionObj()||{},sessionId=args.sessionId,value=args.sessionValue;sessionId&&(paymentCalculatorFormSessionObj[sessionId]=value),sessionStorage.setItem("paymentCalculatorFormSession",jsonSafeStringify(paymentCalculatorFormSessionObj))}function paymentCalcChangeEvent(key,obj){var column,$column,amount,customEvent,offerDataClone,offerDataCloneString,offerData=obj&&obj.offerData||{},$printCta=$(".print-cta"),activeTab=$(".xb-app-tabs-active").hasClass("buy-tab")?"buy":"lease",sharedInputKeyArr=["dealerDiscount","tradeInValue"];if(key&&offerData.hasOwnProperty(key)){column="."+key+"-column",$column=$(column),amount="$"+parseFloat(Math.ceil(obj.offerData[key].payment)).format("#,#");var change=!1;"lease"===activeTab&&PE.offerData&&PE.offerData.lease?$printCta.css("display","block"):"buy"===activeTab&&PE.offerData&&PE.offerData.buy&&(PE.offerData.buy.rate||PE.offerData.buy.term)?$printCta.css("display","block"):$printCta.css("display","none"),"lease"===key?(PE.UIController.leaseAmount!==amount&&(PE.UIController.leaseAmount=amount,change=!0),PE.UIController.leaseTerm!==obj.offerData[key].term&&(PE.UIController.leaseTerm=obj.offerData[key].term,change=!0),change&&$column.find(column+"-hidden-field").html("lease for "+amount+" per month for "+obj.offerData[key].term+" months")):(PE.UIController.buyAmount!==amount&&(PE.UIController.buyAmount=amount,change=!0),PE.UIController.buyTerm!==obj.offerData[key].term&&(PE.UIController.buyTerm=obj.offerData[key].term,change=!0),change&&$column.find(column+"-hidden-field").html("buy for "+amount+" per month for "+obj.offerData[key].term+" months"));var sharedInputs=offerData.sharedInputs={downPaymentValue:PE.downPayment};["buy","lease"].forEach(function(value){if(offerData.hasOwnProperty(value)){var entry=offerData[value];entry.downPaymentPercentActual=PE.downPaymentPercentActual,sharedInputKeyArr.forEach(function(sharedInputKey){entry.hasOwnProperty(sharedInputKey)&&!sharedInputs.hasOwnProperty(sharedInputKey)&&(sharedInputs[sharedInputKey]=entry[sharedInputKey])})}}),(offerDataCloneString=jsonSafeStringify(offerData))!==sessionStorage.getItem("paymentCalculatorDataSession")&&(sessionStorage.setItem("paymentCalculatorDataSession",offerDataCloneString),offerDataClone=jsonSafeParse(offerDataCloneString),customEvent=new CustomEvent("onPaymentCalculatorChange",{bubbles:!0,detail:{paymentCalculatorData:offerDataClone}}),window.top.dispatchEvent(customEvent))}}function addIncentiveRows($sibling,incentive){PE.BusinessLogic.cashIncentives(incentive).reverse().forEach(function(row,index){var dataRow=document.createElement("tr"),$dataRow=$(dataRow);$dataRow.addClass("column-row row-three row-incentives incentive-"+index),$dataRow.html("<th>"+row.left+"</th> <td>"+row.right+"</td>"),$dataRow.insertAfter($sibling)})}function PaymentCalcInitTabs(){var $tabStrip=$(".xb-app-pc-buy-lease"),$buySection=$(".buy-column"),$leaseSection=$(".lease-column"),$buyTab=$tabStrip.find(".buy-tab"),$leaseTab=$tabStrip.find(".lease-tab"),$printCta=$(".print-cta"),urlPar=new RegExp("[?&](paymentType)(=([^&#]*)|&|#|$)").exec(document.documentURI),paymentType=urlPar&&urlPar[3]?urlPar[3]:"";paymentType&&($tabStrip.find("li").removeClass("xb-app-tabs-active"),setTimeout(function(){$tabStrip.find("."+paymentType+"-tab").trigger("click")},10)),$buyTab.on("keydown click",function(e){if("keydown"!==e.type||13===e.keyCode||32===e.keyCode){e.preventDefault();var $parLi=$(this);$parLi.hasClass("xb-app-tabs-active")||(PE.offerData&&PE.offerData.buy&&(PE.offerData.buy.rate||PE.offerData.buy.term)?$printCta.css("display","block"):$printCta.css("display","none"),accessibility.refocusCurrentElement(),$tabStrip.find(".xb-app-tabs-active").removeClass("xb-app-tabs-active").attr("aria-selected","false"),$parLi.addClass("xb-app-tabs-active").attr("aria-selected","true"),$(this).attr("aria-selected",!0),$leaseTab.attr("aria-selected",!1),$leaseSection.hide(),$buySection.show())}}),$leaseTab.on("keydown click",function(e){if("keydown"!==e.type||13===e.keyCode||32===e.keyCode){e.preventDefault();var $parLi=$(this);$parLi.hasClass("xb-app-tabs-active")||(PE.offerData&&PE.offerData.lease?$printCta.css("display","block"):$printCta.css("display","none"),accessibility.refocusCurrentElement(),$tabStrip.find(".xb-app-tabs-active").removeClass("xb-app-tabs-active").attr("aria-selected","false"),$parLi.addClass("xb-app-tabs-active").attr("aria-selected","true"),$(this).attr("aria-selected",!0),$buyTab.attr("aria-selected",!1),$buySection.hide(),$leaseSection.show())}})}function PaymentCalcInitVehicleToggle(){$(".vehicle-select-toggle a").on("click",function(e){e.preventDefault();var $status,$this=$(this),$vehicleContainer=$(".vehicle-select-box-container");$this.hasClass("open")?($this.removeClass("open"),$vehicleContainer.stop().slideUp(0),$status="expand"):($this.addClass("open"),$vehicleContainer.stop().slideDown(0),$status="collapse"),DATALAYER.linkTrack(!1,{lpos:"content",lid:"change-vehicle-"+$status})})}function changeVehicleAnalyticsFire(){$(document).on("click",".xb-app-util-nav a[href='#app-pe']",function(){var vehicle=cllc.context.get("vehicle");cllc.context.get("trim")&&(vehicle+=":"+cllc.context.get("trim")),DATALAYER.linkTrack(!0,{lid:"change-vehicle",lpos:"payment-calculator",linkType:"tool",vars:{prop1:vehicle,eVar5:vehicle}})})}PE.UIController=new function(){var $offerColumn,isPrint=cllc.request.queryString.is_print||"false",data_tooltip="";this.leaseAmount=null,this.buyAmount=null,this.leaseTerm=null,this.buyTerm=null,"false"!==isPrint&&(data_tooltip='data-tooltip-class="true"',$(".xb-app-header").hide(),$(".xb-app-util-nav").hide()),this.Markup={FilterGroups:{renderFilterGroup:function(args){var filterGroup=args.filterGroup,filterGroupsConfig=args.filterGroupsConfig,filtersConfigTrimFilter=args.filtersConfigTrimFilter,trim=args.trim,trimFilterGroup=args.trimFilterGroup,selectedFilters=trim.selectedFilters,description=filterGroup.description,descriptionId=filterGroup.descriptionId,filters=filterGroup.filters,id=filterGroup.id,isTrimFilterGroup=filterGroup===trimFilterGroup,filterGroupConfig=isTrimFilterGroup?filtersConfigTrimFilter:Array.isArray(filterGroupsConfig)&&filterGroupsConfig.find(function(v){return(v.description||"").toString().toLowerCase()===(filterGroup.descriptionId||"").toString().toLowerCase()})||"",formLabelValue=filterGroupConfig&&filterGroupConfig.formLabel||description,elementId=descriptionId+"-select-filter".replace(/\s+/g,"_");if(!(filters.length<=1))return['<li class="is-visible">',["<div "+(isTrimFilterGroup?"data-is-trim-filter-group":"")+' class="gc-forms-dropdown gc-forms-block gc-forms-label-align-top labelinside gc-forms-dropdown-custom">','  <label data-aria-label-text="Select a '+formLabelValue+'" for="'+elementId+'">'+formLabelValue+"</label>",'  <select name="'+elementId+'" data-role="none" '+(isTrimFilterGroup?"data-is-trim-filter-group":"")+' class="form-control trim-filter" id="'+elementId+'" data-filter-group-id="'+id+'" '+(filters.length<=1?"disabled":"")+">",filters.map(function(filter){return'<option name="'+descriptionId+'" '+(function(filter){return selectedFilters.matchesFilter({filter:filter})}(filter)?"selected":"")+' value="'+filter.id+'">'+filter.description+"</option>"}).join(""),"  </select>","</div>"].join("\n"),"</li>"].join("\n")},render:function(args){var $containerElement=args.$containerElement,cvdFilterGroupsToDisplay=args.cvdFilterGroupsToDisplay,filterGroupsConfig=args.filterGroupsConfig,filtersConfigTrimFilter=args.filtersConfigTrimFilter,modelWithTrims=args.modelWithTrims,trim=args.trim,trimFilterGroup=args.trimFilterGroup;this.__cvdArgs=this.__cvdArgs||args;var uuid=modelWithTrims.uuid,trimUUID=trim.uuid,self=this,isMobile=!1;window.matchMedia&&window.matchMedia("(max-width:699px)").matches&&(isMobile=!0);var markupArr=['<ul class="vehicle-select-box-container" data-has-uuid data-model-with-trims-uuid="'+uuid+'" data-trim-uuid="'+trimUUID+'" data-on-cvd-filter-group-change="" style="display:'+(isMobile?$(".vehicle-select-toggle a").hasClass("open")?"block":"none":"block")+'">',cvdFilterGroupsToDisplay.map(function(filterGroup){return self.renderFilterGroup({filterGroup:filterGroup,filterGroupsConfig:filterGroupsConfig,filtersConfigTrimFilter:filtersConfigTrimFilter,modelWithTrims:modelWithTrims,trim:trim,trimFilterGroup:trimFilterGroup})}).join(""),"</ul>"],$markup=$(markupArr.join(""));$containerElement?$containerElement.replaceWith($markup):$(".xb-app-pe-util-nav ul.vehicle-select-box-container").parent().append($markup),1<$(".vehicle-select-box-container").length&&$(".vehicle-select-box-container").eq(0).remove()}},TrimSelectBox:{render:function(){for(var markup,i=0,arr=cllc.context.get("availableTrims"),n=arr.length,data={},y=cllc.context.get("year"),v=cllc.context.get("vehicle");i<n;i++)data[arr[i]]=Vehicles.getTrimDisplay({year:y,vehicle:v,trim:arr[i]});markup=PE.UIController.Markup.VehicleSelectBoxGeneric.render(data,"trim","Trim"),$(".xb-app-pe-util-nav ul.vehicle-select-box-container .trim-dropdown").css({display:"inline-table",visibility:"visible"}).closest("li").addClass("is-visible"),$(".trim-dropdown select").html(markup)}},DriveSelectBox:{render:function(){for(var i=0,arr=cllc.context.get("availableDrives"),n=arr.length,data={},markup="";i<n;i++)data[arr[i].id]=arr[i].name;2<=n&&(markup=PE.UIController.Markup.VehicleSelectBoxGeneric.render(data,"drive","Drive"),$(".xb-app-pe-util-nav ul.vehicle-select-box-container .drive-dropdown").css({display:"inline-table",visibility:"visible"}).closest("li").addClass("is-visible"),$(".drive-dropdown select").html(markup))}},CabSelectBox:{render:function(){for(var i=0,arr=cllc.context.get("availableCabs"),n=arr.length,data={},markup="";i<n;i++)data[arr[i].id]=arr[i].name.replace("\\'","&#39;").replace('\\"',"&#34;");1<=n&&(markup=PE.UIController.Markup.VehicleSelectBoxGeneric.render(data,"cab","Cab/Box"),$(".xb-app-pe-util-nav ul.vehicle-select-box-container .cab-dropdown").css({display:"inline-table",visibility:"visible"}).closest("li").addClass("is-visible"),$(".cab-dropdown select").html(markup))}},SeatingSelectBox:{render:function(){for(var i=0,arr=cllc.context.get("availableSeating"),n=arr.length,data={},markup="";i<n;i++)data[arr[i].id]=arr[i].name.replace("\\'","&#39;").replace('\\"',"&#34;");1<=n&&(markup=PE.UIController.Markup.VehicleSelectBoxGeneric.render(data,"seating","Seating"),$(".xb-app-pe-util-nav ul.vehicle-select-box-container .seating-dropdown").css({display:"inline-table",visibility:"visible"}).closest("li").addClass("is-visible"),$(".seating-dropdown select").html(markup))}},DurationSelectBox:{getRate:function(offer,type){var rate;return"buy"===type?("custom_apr"===PE.offerData.buy.offerType&&(rate=void 0!==PE.offerData.buy.rate&&null!==PE.offerData.buy.rate&&PE.offerData.buy.rate/1||null),rate=isFinite(rate)?rate:offer.rate):rate=offer.rate,rate},getTermType:function(offer,type){var offerType="";return null!=type&&(offerType=PE.offerData.buy.offerType),("buy"===type&&"custom_apr"===offerType?offerType:offer.termtype)||offer.termType},render:function(offerData,type,term){var optionValue="",arr=Array.isArray(offerData)&&offerData||[];if(offerData.length){for(var i=0,n=arr.length;i<n;i++){var item=arr[i],isSelected=term.toString()===item.term.toString()?"selected":"";optionValue+='<option value="'+item.term+'" data-standard-termtype="'+item.termtype+'" data-termtype="'+this.getTermType(item)+'" data-standard-rate="'+item.rate+'" " data-rate="'+this.getRate(item,type)+'" '+isSelected+' data-column="'+type+'" name="term">'+item.term+" Months</option>"}$offerColumn.find(".gc-forms-dropdown.term-dropdown select").html(optionValue)}}},MileageSelectBox:{render:function(offerData,type,term){var optionValue="",$column=$("."+type+"-column"),m=0,resObj=offerData.filter(function(a){return a.term==term})[0],mArr=resObj.residuals,mn=mArr.length;for(mArr.sort(function(a,b){return a.mileage-b.mileage});m<mn;m++)optionValue+='<option data-residual="'+mArr[m].residual+'" data-term="'+resObj.term+'" '+(parseFloat(mArr[m].residual)===parseFloat(resObj.residual)?"selected":"")+' value="'+mArr[m].mileage+'" data-column="'+type+'" name="mileage">'+mArr[m].mileage.format("#,#")+" Miles</option>",parseFloat(mArr[m].residual)===parseFloat(resObj.residual)&&(cllc.context.set("mileage",mArr[m].mileage),cllc.context.set("residual",resObj.residual));$column.find(".gc-forms-dropdown.mileage-dropdown select").html(optionValue)}},VehicleSelectBoxGeneric:{render:function(data,type,name,grouped){var optionValue='<option value="" name="'+type+'" '+(cllc.context.get("vehicle")?"disabled":"")+">-- Select a "+name+" --</option>",optionGroup=optionValue,increment=0,control=cllc.context.get(type),modelCode="",groupedOption="",vehicle="";if(grouped){var controlY=cllc.context.get("year");for(var y in data){for(var x in 0!==increment?optionGroup+='<option value="" disabled name="'+type+'"><span>- - - - </span></option>':increment++,data[y])groupedOption+='<option value="'+x+'" data-year="'+y+'" name="'+type+'" '+(control===x&&controlY===y?"selected":"")+" >"+y+" "+data[y][x]+"</option>",control===x&&controlY===y&&(vehicle=control);try{modelCode=Vehicles.getModelYearCode({year:cllc.context.get("year"),vehicle:vehicle}).substr(-2)}catch(e){modelCode=""}DATALAYER.set({year:cllc.context.get("year"),vehicle:DATALAYER.getVehicleModel(modelCode)||vehicle}),digitalData.page.pageInfo.vehicleTrim=cllc.context.get("trim").replace(/_/g,"-"),optionGroup+=groupedOption+"</optgroup>"}optionValue=optionGroup}else for(var z in data)optionValue+='<option value="'+z+'" name="'+type+'" '+(control.toString()===z?"selected":"")+">"+data[z]+"</option>";return optionValue}},InBoundFlat:{},ZipCodeOverlay:{render:function(){var zipModal=new cllc.ui.modal;zipModal.onclose=function(){DATALAYER.linkTrack(!1,{lpos:"zipcode_overlay",lid:"close_btn"})},zipModal.open('<div id="xb-app-pe-zipcode-overlay"><div name="zipcode-overlay"><fieldset><legend class="gc-heading-size-12">Please enter your ZIP code:</legend><div class="gc-forms-textbox gc-forms-textbox-size-small"><input name="zipcode" type="text" max-length="5" /><button class="gc-button gc-button-plain gc-button-small gc-icon-arrow-head-right" id="zip-overlay-submit"></button></div></fieldset></div></div>'),cllc.events.addListener(document.querySelector("#xb-app-pe-zipcode-overlay div #zip-overlay-submit"),"click",function(event){event.preventDefault();var zipcode=$("#xb-app-pe-zipcode-overlay input[name*='zipcode']").prop("value");if(/^\d{5}$/.test(zipcode)){DATALAYER.linkTrack(!1,{lid:"submit",lpos:"zipcode_overlay"}),cllc.context.set("zipcode",zipcode),zipModal.onclose=null,zipModal.close(),document.querySelector(".xb-app-pe-util-nav-zipcode .gc-forms-textbox").innerHTML=zipcode,document.querySelector("input#xb-app-pe-util-nav-zipcode").value=zipcode}else alert("Please enter a valid zip code");return!1})}},BuyLeaseColumns:{initialized:!1,initialize:function(){var paymentCalculatorFormSessionObj;this.initialized||(this.initialized=!0,(paymentCalculatorFormSessionObj=getPaymentCalculatorFormSessionObj()||{})&&$("#xb-app-payment-calculator [data-sessionid]").each(function(i,e){var sessionValue,sessionIdAttr=e.dataset.sessionid;paymentCalculatorFormSessionObj.hasOwnProperty(sessionIdAttr)&&(sessionValue=paymentCalculatorFormSessionObj[sessionIdAttr]);var currentValue=e.value,currentChecked=e.checked||!1,hasChanged=!1;if(sessionValue&&(hasChanged=!(currentValue==sessionValue.value)||currentChecked!==(sessionValue.checked||!1),e.value=sessionValue.value,sessionValue.hasOwnProperty("checked")&&(e.checked=sessionValue.checked),hasChanged)){var event=document.createEvent("HTMLEvents");event.initEvent("change",!0,!1),e.dispatchEvent(event)}}),["buy","lease"].forEach(function(value){paymentCalcChangeEvent(value,PE)}),""===$("#buy-column .finance-estimate-amount").text()&&$("#terms_buy").trigger("change"))},render:function(offerData){PE.callingApp&&"sni"===PE.callingApp&&($(".option-cost").hide(),$(".global-values li.middle-item-pipes").css("border-style","none none none solid"),$(".global-values").css("margin-left",173));var lease_incentives,isUserRate="radio_user_rate"===cllc.context.get("rate_type"),buy_incentives=[],termtype="";offerData.buy&&(PE.offerData.buy.rate||PE.offerData.buy.term)?(termtype=offerData.buy.termtype,isUserRate?offerData.cash&&offerData.cash.incentives_object&&(buy_incentives=offerData.cash.incentives_object.incentives):buy_incentives=offerData.buy.incentives_object[termtype].incentives,$(".print-cta, .global-values").css("display","block"),$(".buy-column .column-row").not(".row-two").not(".row-one").show(),$(".print.xb-app-content .buy-column .row-two:not(.no-buy)").show(),$(".column-row.row-two.no-buy").hide(),$(".buy-column .tooltip.monthly-payment").show(),$(".buy-column .column-row.row-three").css({height:"auto"}),$(".buy-column .row-incentives th, .buy-column .row-incentives td").html(""),$("#total-options-buy").siblings(".row-three.row-incentives").remove(),buy_incentives.length&&(addIncentiveRows($("#total-options-buy"),buy_incentives),$(".buy-column .column-row.row-three").css("display","table-row"))):($(".buy-column .column-row").hide(),$(".print-cta").css("display","none"),$(".buy-column .total-monthly-payment-amount").html("--").removeClass("is-negative"),$(".buy-tab .total-monthly-payment-amount").html("").removeClass("is-negative"),$(".buy-column .total-monthly-payment-amount-term").html(""),$(".buy-column .tooltip.monthly-payment").hide(),$(".column-row.row-two.no-buy").show());offerData.lease?(termtype=offerData.lease.termtype,lease_incentives=offerData.lease.incentives_object[termtype].incentives,$(".lease-column .column-row").not(".row-two").not(".row-one").show(),$(".print.xb-app-content .lease-column .row-two:not(.no-lease)").show(),$(".column-row.row-two.no-lease").hide(),$(".lease-column .tooltip.monthly-payment").show(),$(".lease-column .column-row.row-three").css("height","auto"),$(".lease-column .row-incentives th, .lease-column .row-incentives td").html(""),$("#total-options-lease").siblings(".row-three.row-incentives").remove(),0<lease_incentives.length&&(addIncentiveRows($("#total-options-lease"),lease_incentives),$(".lease-column .column-row.row-three").css("display","table-row"))):($(".lease-column .column-row").hide(),$(".lease-column .total-monthly-payment-amount").html("--").removeClass("is-negative"),$(".lease-tab .total-monthly-payment-amount").html("").removeClass("is-negative"),$(".lease-column .total-monthly-payment-amount-term").html(""),$(".lease-column .tooltip.monthly-payment").hide(),$(".column-row.row-two.no-lease").show());for(var x in offerData.buy||offerData.lease?$(".xb-app-column-content").removeClass("short_stack"):$(".xb-app-column-content").addClass("short_stack"),offerData.buy&&offerData.lease?0<buy_incentives.length||0<lease_incentives.length?($(".column-row.row-three, .column-row.row-five p").show(),$(".xb-app-column-content").removeClass("short_stack")):($(".xb-app-column-content").addClass("short_stack"),$(".column-row.row-three, .column-row.row-five p").hide()):offerData.buy&&!offerData.lease&&1<=!buy_incentives.length&&($(".xb-app-column-content").addClass("short_stack"),$(".column-row.row-three, .column-row.row-five p").hide()),offerData)if(!(["buy","cash","lease"].indexOf(x)<0)&&"cash"!==x){var column="."+x+"-column";$offerColumn=$(column),PE.UIController.Markup.DurationSelectBox.render(offerData[x].terms,x,offerData[x].term),"lease"===x&&PE.UIController.Markup.MileageSelectBox.render(offerData[x].terms,x,offerData[x].term),$(".msrp-amount").html("$"+PE.vehicle.vehiclePrice.format("#,#")),$(".destination-amount").html("$"+PE.vehicle.destination.format("#,#")),$(".option-amount").html("$"+PE.vehicle.otherCapCosts.format("#,#"));var amountVal=parseFloat(Math.ceil(offerData[x].payment)),amount="$"+amountVal.format("#,#");if("lease"===x&&(PE.UIController.leaseAmount=amount,PE.UIController.leaseTerm=offerData[x].term),"buy"===x&&(PE.UIController.buyAmount=amount,PE.UIController.buyTerm=offerData[x].term),$offerColumn.find(".total-monthly-payment-amount").html(amount).toggleClass("is-negative",amountVal<0),0!==amountVal&&$("."+x+"-tab .total-monthly-payment-amount").html("("+amount+")").toggleClass("is-negative",amountVal<0),$offerColumn.find(".total-monthly-payment-amount-term").html("per month for "+offerData[x].term+" months"),$offerColumn.find(column+"-hidden-field").html(x+" for "+amount+" per month for "+offerData[x].term+" months"),$offerColumn.find(".tooltip.monthly-payment").attr("title",offerData[x].disclaimer),isPrint&&$offerColumn.find(".tooltip.monthly-payment").attr("data-tooltip-class","true"),$offerColumn.find(".total-incentives-amount").html("-$"+offerData[x].cash.format("#,#")),$(".edit-fields.down_payment_field").prop("value",PE.downPayment),$(".edit-fields.trade_in_field").prop("value",offerData[x].tradeInValue),$(".edit-fields.dealer_discount_field").prop("value",offerData[x].dealerDiscount),"buy"===x){var standardTermDurationRate=$("#xb-app-payment-calculator .gc-forms-dropdown.term-dropdown.buy-terms select").find("option:selected").attr("data-standard-rate");offerData.buy.overRide?$(".xb-app-column-content").addClass("custom_apr"):($(".xb-app-column-content").removeClass("custom_apr"),$(".standard-rate label").html(standardTermDurationRate+"% (Chrysler&#039s Rate <span>  <sup class='tooltip' "+data_tooltip+" title='This rate is based on the &#039Term Duration&#039 selected and available compatible cash incentives. Rate is for well qualified buyers; not all buyers will qualify. Your rate may vary. See dealer for details.'>+</sup></span>)"),$(".standard-rate input").attr("value",standardTermDurationRate)),$("#radio_user_rate").attr("value",offerData.buy.user_rate),$(".edit-fields.user_rate_field").attr("value",offerData.buy.user_rate)}}var prequalifyUtmContent=PE.callingApp&&"sni"===PE.callingApp?"-Get-Prequalified-Search-New-Inventory-Payment-Calculator":"-Get-Prequalified-Shopping-Tools-Payment-Calculator",applyCreditUtmContent=PE.callingApp&&"sni"===PE.callingApp?"-Apply-For-Credit-Search-New-Inventory-Payment-Calculator":"-Apply-For-Credit-Shopping-Tools-Payment-Calculator",PECreditBrandCapital=PE.CreditBrand&&PE.CreditBrand.replace(PE.CreditBrand[0],PE.CreditBrand[0].toUpperCase()),strPrequalify="https://apply.chryslercapital.com/applyprequalification%3Fp%3D{0}%26utm_source%3Doem%26utm_medium%3Dreferral%26utm_content%3D{1}"+prequalifyUtmContent+"%26utm_campaign%3D{2}%26zipcode%3D{3}&message=true','yes','1024','660','','resizable=yes');",strApplyCredit="https://apply.chryslercapital.com/applylong%3Fp%3D{0}&utm_source%3Doem%26utm_medium%3Dreferral%26utm_content%3D{1}"+applyCreditUtmContent+"%26utm_campaign%3D291%26zipcode%3D{2}&message=true','yes','1024','660','','resizable=yes');",brandCamelCase=PE.brand.substring(0,1).toUpperCase()+PE.brand.substring(1),hrefPrequalify=String.format("javascript:flexWin('http://"+document.location.host+"/exitpage/index.html?url="+strPrequalify,PECreditBrandCapital+"pq",brandCamelCase,PE.UTMCampaign[PE.brand],cllc.context.get("zipcode")),hrefapplyCredit=String.format("javascript:flexWin('http://"+document.location.host+"/exitpage/index.html?url="+strApplyCredit,PECreditBrandCapital,brandCamelCase,cllc.context.get("zipcode"));$(".get-prequalified").attr("href",hrefPrequalify),$(".apply-for-credit").attr("href",hrefapplyCredit),this.initialize(),PE.UIController.updateColumnHeight(),PE.BusinessLogic.adjustWindow(),PE.UIController.deactivateAnchorTracks(),$("#down_payment_field_buy[data-sessionid]").trigger("change")}},BuyLeaseColumnsPrint:{render:function(offerData){var lease_incentives,buy_incentives,termtype="";if($(".textbox-group").css("display","none"),offerData.buy?(termtype=offerData.buy.termtype,buy_incentives="radio_user_rate"!==cllc.context.get("rate_type")?offerData.buy.incentives_object[termtype].incentives:offerData.cash.incentives_object.incentives,$(".buy-column .column-row").show(),$(".column-row.row-two.no-buy").hide()):$(".xb-app-column-content .buy-column").css("height","0px").hide().addClass("disabled"),offerData.lease?(termtype=offerData.lease.termtype,lease_incentives=offerData.lease.incentives_object[termtype].incentives,$(".lease-column .column-row").show(),$(".column-row.row-two.no-lease").hide()):$(".xb-app-column-content .lease-column").css("height","0px").hide().addClass("disabled"),offerData.buy&&offerData.lease){if(0<buy_incentives.length||0<lease_incentives.length){if($(".column-row.row-three, .column-row.row-five p").show(),0<buy_incentives.length){var $siblingBuy=$("#total-options-buy");$("#total-options-buy").siblings(".row-three.row-incentives").remove(),addIncentiveRows($siblingBuy,buy_incentives),PE.offerData.buy.cash=PE.BusinessLogic.totalCashIncentives(buy_incentives)}if(0<lease_incentives.length){var $siblingLease=$("#total-options-lease");$siblingLease.siblings(".row-three.row-incentives").remove(),addIncentiveRows($siblingLease,lease_incentives)}}else $(".column-row.row-three, .column-row.row-five p").hide();$(".xb-app-column-content .column,.xb-app-column-content .column-three ").css("min-height","0px")}for(var x in $(".xb-app-pc-content.xb-app-column-content").show(),offerData)if(!(["buy","cash","lease"].indexOf(x)<0)&&"cash"!==x){$offerColumn=$("."+x+"-column"),$(".msrp-amount").html("$"+PE.vehicle.vehiclePrice.format("#,#")),$(".destination-amount").html("$"+PE.vehicle.destination.format("#,#")),$(".option-amount").html("$"+PE.vehicle.otherCapCosts.format("#,#"));var amountVal=parseFloat(Math.ceil(offerData[x].payment)),amount="$"+amountVal.format("#,#");if($offerColumn.find(".total-monthly-payment-amount").html(amount).toggleClass("is-negative",amountVal<0),$("."+x+"-tab .total-monthly-payment-amount").html("("+amount+")").toggleClass("is-negative",amountVal<0),$offerColumn.find(".total-monthly-payment-amount-term").html("per month for "+offerData[x].term+" months"),$offerColumn.find(".tooltip.monthly-payment").attr("title",offerData[x].disclaimer),isPrint&&($offerColumn.find(".tooltip.monthly-payment").attr("data-tooltip-class","true"),$(".edit-fields.down_payment_field").prop("value",PE.downPayment),$(".edit-fields.trade_in_field").prop("value",offerData[x].tradeInValue),$(".edit-fields.dealer_discount_field").prop("value",offerData[x].dealerDiscount)),$offerColumn.find(".total-incentives-amount").html("-$"+offerData[x].cash.format("#,#")),"buy"===x?($("#terms_buy, .no-buy, .no-lease, .get-prequalified").remove(),$(".print-term-buy").html(PE.offerStateValue.buyTerm+" months"),"radio_standard_rate"==PE.offerStateValue.buyRateType?$(".print-apr-buy").html(PE.offerStateValue.buyRate+"% (Chrysler's Rate <sup class='tooltip' "+data_tooltip+" title=\"This rate is based on the 'Term Duration' selected and available compatible cash incentives. Rate is for well qualified buyers; not all buyers will qualify. Your rate may vary. See dealer for details.\">+</sup>)"):$(".print-apr-buy").html(PE.offerStateValue.buyRate+"% (Third Party<sup class='tooltip' "+data_tooltip+' title="If you obtain financing from a third party, enter your rate here. Your total Estimated Amount Financed may be lower due to a Cash Incentive Offer.">+</sup>)')):($("#terms_lease, #mileage_lease").remove(),$(".print-term-lease").html(PE.offerStateValue.leaseTerm+" months"),$(".print-mileage-lease").html(Number(PE.offerStateValue.mileage).format("#,#"))),$(".rate-radio-container, .gc-forms-select").remove(),$(".down_payment_percent").html(PE.downPaymentPercent+"%"),PE.BusinessLogic.estimateFinanceAmount(x,"BuyLeaseColumnsPrint"),$(".down_payment_field_value").html(PE.downPayment),$(".trade_in_field_value").html(offerData[x].tradeInValue),$(".dealer_discount_field_value").html(offerData[x].dealerDiscount),"buy"===x){var _dp=$(".buy-column .edit-fields.down_payment_field").val(),_dpVal=PE.BusinessLogic.cleanNum(_dp);PE.BusinessLogic.monthlyPayment({id:"downPayment",value:_dpVal,type:"buy"}),$(".standard-rate label").html(offerData[x].rate+"% (Chrysler&#039s Rate <sup class='tooltip print-hide'  title='This rate is based on the &#039Term Duration&#039 selected and available compatible cash incentives. Rate is for well qualified buyers; not all buyers will qualify. Your rate may vary. See dealer for details.'>+</sup>)"),$(".standard-rate input").attr("value",offerData[x].rate),$("#radio_user_rate").attr("value",offerData.buy.user_rate),$(".edit-fields.user_rate_field").attr("value",offerData.buy.user_rate)}}$("#down_payment_field_buy[data-sessionid]").trigger("change"),PE.UIController.showPrintView(),PE.UIController.Markup.VehicleImage.render()}},UpdateMonthlyPayment:{render:function(type){var $column=$("."+type+"-column"),amountVal=parseFloat(Math.ceil(PE.offerData[type].payment)),amount="$"+amountVal.format("#,#");$column.find(".total-monthly-payment-amount").html(amount).toggleClass("is-negative",amountVal<0),0!==amountVal&&isFinite(amountVal)&&$("."+type+"-tab .total-monthly-payment-amount").html("("+amount+")").toggleClass("is-negative",amountVal<0)}},UpdateFinanceEstimate:{render:function(type){var $column=$("."+type+"-column"),amount=parseFloat(PE.offerData[type].finance);$column.find(".finance-estimate-amount").html("$"+amount.format("#,#")).toggleClass("is-negative",amount<0)}},UpdateDownPaymentPercent:{render:function(){$(".down_payment_percent").html(PE.downPaymentPercent+"%")}},UpdateStandardAPR:{render:function(){var standardTermDurationRate=$("#xb-app-payment-calculator .gc-forms-dropdown.term-dropdown.buy-terms select").find("option:selected").attr("data-standard-rate"),standardTermDurationRateValue=void 0===standardTermDurationRate?PE.offerData.buy.rate:standardTermDurationRate;$(".standard-rate label").html(standardTermDurationRateValue+"% (Chrysler&#039s Rate <sup class='tooltip' "+data_tooltip+" title='This rate is based on the &#039Term Duration&#039 selected and available compatible cash incentives. Rate is for well qualified buyers, not all buyers will qualify. Your rate may vary. See dealer for details.'>+</sup>)"),$(".standard-rate input").attr("value",standardTermDurationRateValue)}},StaticVehicleLabel:{render:function(){$(".xb-app-vehicle-name .gcss-no-text-transform").html(cllc.context.get("year")+" "+Vehicles.getDescription(cllc.context.get())).show()}},VehicleImage:{render:function(){var imgSrc=Vehicles.getImg(cllc.context.get(),"png","","150"),altText=Vehicles.getDisplay(cllc.context.get());$(".xb-app-pe-vehicle-image img").attr("src",imgSrc).attr("alt",altText)}}},this.updateGlobalContent=function(){if(PE.UIController.Markup.StaticVehicleLabel.render(),PE.vin){var content=document.querySelector(".xb-app-pe-util-nav"),titleContainer=document.createElement("h2");titleContainer.classList.add("xb-app-vehicle-vin","gcss-colors-text-body-tertiary","gcss-typography-label-3"),titleContainer.innerHTML=PE.vin,content&&(0<$(".xb-app-vehicle-vin").length?$(".xb-app-vehicle-vin").replaceWith(titleContainer):content.append(titleContainer))}},this.deactivateAnchorTracks=function(){setTimeout(function(){$(".gc-forms-select-label a").attr("data-donottrack","true")},500)},this.updateColumnHeight=function(){},this.showPrintView=function(){$(".xb-main-content, .xb-app-content").addClass("print"),$("body").attr("style","background-color:#FFFFFF !important;");var disclaimer_div_html='<div id="print-disclaimers">';disclaimer_div_html+='<span class="num_1"><span>+ </span> MSRP excludes destination, taxes, title and registration fees. Starting at price refers to the base model; optional equipment not included. A more expensive model may be shown. Pricing and offers may change at any time without notification. To get full pricing details, see your dealer.</span><br /><br/ >',jQuery("#xb-main-content-wrapper .column:not(.disabled) sup.tooltip:not(.print-hide)").each(function(i){var jQuerythis=jQuery(this),disclaimer_txt=jQuerythis.attr("title")||jQuerythis.data("title"),disclaimer_num=i+1;disclaimer_num&&""!==disclaimer_txt&&(disclaimer_div_html+='<span class="num_'+disclaimer_num+'"><span>'+disclaimer_num+") </span> "+disclaimer_txt+"</span><br />",jQuerythis.html("["+disclaimer_num+"]"))}),disclaimer_div_html+="</div>",jQuery(".xb-app-content").after(disclaimer_div_html).delay(1e3).fadeIn(300,function(){window.print()})},this.toString=function(){return"[object PE.UIController]"}},function(){function CustomEvent(event,params){var customEvent=document.createEvent("CustomEvent");return params=params||{bubbles:!1,cancelable:!1,detail:void 0},customEvent.initCustomEvent(event,params.bubbles,params.cancelable,params.detail),customEvent}"function"!=typeof window.CustomEvent&&(CustomEvent.prototype=window.Event.prototype,window.CustomEvent=CustomEvent)}(),function($){function serializeFormSessionElement(args){var target=args.target,sessionId=target.dataset.sessionid,value=target.value;if(""!==value){var nameAttr=target.getAttribute("name"),sessionValue={value:value},targetType=target.type,isCheckboxInput=/checkbox/i.test(targetType),isRadioInput=/radio/i.test(targetType);(isCheckboxInput||isRadioInput)&&(sessionValue.checked=target.checked),isRadioInput&&target.checked&&target.form&&Array.prototype.slice.call(target.form.querySelectorAll("[name="+nameAttr+"][data-sessionid]")).forEach(function(element){element!==target&&updatePaymentCalculatorFormSessionObj({sessionId:element.dataset.sessionid,sessionValue:{checked:!1,value:element.value}})}),updatePaymentCalculatorFormSessionObj({sessionId:sessionId,sessionValue:sessionValue})}}cllc.request.queryString.isOverlay&&($(".xb-app-util-nav").hide(),$(".xb-app-header-content h4").hide(),$("#xb-main-content-wrapper").addClass("overlay-view"),"alfaromeousa"===cllc.config.brand||"alfa-romeo"===cllc.config.brand?($('div[data-component="MegaMenu"]').hide(),$(".Footer").hide()):($(".main-navigation").hide(),$(".footer").hide())),$(document).on("change","#xb-app-payment-calculator [data-sessionid]",function(event){serializeFormSessionElement(event)}),$(document).on("keypress","#xb-app-payment-calculator [data-sessionid]",function(e){13===e.which&&accessibility.refocusCurrentElement()}),$(document).on("click","#xb-app-payment-calculator .update-pricing",function(){$("#xb-app-payment-calculator [data-sessionid]").each(function(i,x){serializeFormSessionElement({target:x})});var eventDetail={bubbles:!0,detail:{paymentCalculatorData:jsonSafeParse(sessionStorage.getItem("paymentCalculatorDataSession"))}},customEvent=new CustomEvent("onPaymentCalculatorSubmit",eventDetail);window.top.dispatchEvent(customEvent)});var zipCodeHandler=function(event){event.preventDefault();var zipcode=document.getElementById("xb-app-pe-util-nav-zipcode").value;PE.BusinessLogic.validateZipCode(zipcode)?(cllc.context.set("zipcode",zipcode),document.querySelector(".xb-app-pe-util-nav-zipcode .gc-forms-textbox").innerHTML=zipcode,"click"===event.type?$(this).parents(".xb-app-pe-util-nav-zipcode").removeAttr("data-active").siblings().attr("data-active","true"):$(this).removeAttr("data-active").siblings().attr("data-active","true"),$(".xb-app-pe-util-nav-zipcode .gc-forms-textbox").removeClass("gc-forms-error"),$(".xb-app-pe-util-nav-zipcode-error").remove()):($(".xb-app-pe-util-nav-zipcode").find(".gc-forms-textbox").addClass("gc-forms-error"),$(".xb-app-pe-util-nav-zipcode:not(:has(.xb-app-pe-util-nav-zipcode-error))").prepend('<div class="xb-app-pe-util-nav-zipcode-error"><div>Please enter a valid zip code</div></div>'))};$(document).on("click",".xb-app-pe-util-nav a[href='#change-zipcode']",function(event){event.preventDefault(),$(this).parents(".xb-app-pe-util-nav-zipcode").removeAttr("data-active").siblings().attr("data-active","true");var input=$(this).parents(".xb-app-pe-util-nav").find("input#xb-app-pe-util-nav-zipcode")[0];try{input.focus(),input.select()}catch(ex){}input.setSelectionRange&&input.setSelectionRange(0,5)}),$(document).on("click",".xb-app-pe-util-nav a[href='#update-zipcode']",zipCodeHandler),$(document).on("submit","form.xb-app-pe-util-nav-zipcode",zipCodeHandler),$(document).on("click",".column.column-one,.column.column-two",function(){cllc.context.set("active_tab",$(this).data("column"))}),$(document).on("click",".print-cta a",function(event){event.preventDefault(),PE.BusinessLogic.applyPayment(!0)}),$("#xb-main-content-wrapper").on("change","[data-on-cvd-filter-group-change] select",function(e){var $target=$(e.target),$containerElement=$target.closest("[data-has-uuid]"),cvdArgs=PE.UIController.Markup.FilterGroups.__cvdArgs,value=$target.val(),filterGroupId=$target.data("filter-group-id"),trimUUID=$containerElement.attr("data-trim-uuid"),isTrimFilterGroup=$target.is("[data-is-trim-filter-group]"),modelWithTrims=isTrimFilterGroup?cvdArgs.modelWithTrimsCollection.find(function(v){return v.getFilterGroupById(filterGroupId).defaultFilter.id==value}):cvdArgs.modelWithTrims,matchingTrimArr=isTrimFilterGroup?modelWithTrims.trimCollection:modelWithTrims.getMatchingTrimsByFilter({filterGroupId:filterGroupId,filterValue:value,trimUUID:trimUUID}),trim=isTrimFilterGroup?matchingTrimArr[0]:matchingTrimArr[0].trim,renderArgs={$containerElement:$containerElement,cvdFilterGroupsToDisplay:cvdArgs.getFilterGroupsToDisplay({modelWithTrims:modelWithTrims,modelYearCode:cvdArgs.modelYearCode}).cvdFilterGroupsToDisplay,filterGroupsConfig:cvdArgs.filterGroupsConfig,filtersConfigTrimFilter:cvdArgs.filtersConfigTrimFilter,getFilterGroupsToDisplay:cvdArgs.getFilterGroupsToDisplay,modelWithTrims:modelWithTrims,trim:trim,trimFilterGroup:cvdArgs.trimFilterGroup},contextCCode=trim.ccode,contextLLP=trim.llp,contextModel=Vehicles.getModelFromCcode(contextCCode),contextTrim=Vehicles.getTrimFromCcode(contextCCode);cllc.context.set("ccode",contextCCode),cllc.context.set("llp",contextLLP),cllc.context.set("trim",contextTrim),cllc.context.set("model",contextModel),isTrimFilterGroup&&(PE.UIController.Markup.FilterGroups.__cvdArgs.modelWithTrims=modelWithTrims),PE.UIController.Markup.FilterGroups.render(renderArgs)}),$("#xb-main-content-wrapper").on("change",".gc-forms-dropdown.term-dropdown select",function(event){var column,type,rate,termtype,column_scope,$selectedOption=$(this).find("option:selected");if($selectedOption.length){type=(column=$selectedOption.attr("data-column"))+"_"+$selectedOption.attr("name"),rate=$selectedOption.attr("data-rate"),termtype=$selectedOption.attr("data-termtype"),column_scope="."+column+"-column .total-monthly-payment-amount-term",PE.offerData[column].offerType=termtype;var incentives=PE.offerData[column].incentives_object[termtype].incentives;"buy"===column&&"radio_user_rate"===cllc.context.get("rate_type")&&PE.offerData.cash&&PE.offerData.cash.incentives_object&&(incentives=PE.offerData.cash.incentives_object.incentives);var data=PE.BusinessLogic.cashIncentives(incentives);$("."+column+"-column .row-incentives th").html(data.left),$("."+column+"-column .row-incentives td").html(data.right),incentives.length?"buy"===column?$(".buy-column .column-row.row-three").css("display","table-row"):$(".lease-column .column-row.row-three").css("display","table-row"):"buy"===column?$(".buy-column .column-row.row-three").css("display","none"):$(".lease-column .column-row.row-three").css("display","none"),PE.offerData[column].cash=PE.BusinessLogic.totalCashIncentives(incentives),$("."+column+"-column .total-incentives-amount").html("-$"+PE.offerData[column].cash.format("#,#")),cllc.context.set(column+"_rate",rate),cllc.context.set(type,this.value),cllc.context.set("chryslerOfferType",termtype),$(column_scope).html("per month for "+PE.offerData[column].term+" months"),paymentCalcChangeEvent(column,PE),PE.isDebug&&console.log(event)}}),$("#xb-main-content-wrapper").on("change",".gc-forms-dropdown.mileage-dropdown select",function(){var residual=$(this).find("option:selected").attr("data-residual");cllc.context.set("mileage",this.value),cllc.context.set("residual",residual)}),$("#xb-main-content-wrapper").on("focus",".edit-fields",function(){var cleanVal=PE.BusinessLogic.cleanNum(this.value);this.value=cleanVal,this.focus(),"rate"===this.name&&cllc.context.set("rate_type","radio_standard_rate")}),$("#xb-main-content-wrapper").on("blur change",".edit-fields.down_payment_field",function(){this.value=0===this.value.length?0:this.value;var cleanVal=PE.BusinessLogic.cleanNum(this.value);PE.userDownPayment=!0,$(".edit-fields.down_payment_field").each(function(i,el){var column=$(el).data("column");PE.BusinessLogic.downPayment(cleanVal),PE.BusinessLogic.monthlyPayment({id:el.name,value:cleanVal,type:column}),this.value=PE.downPayment,updatePaymentCalculatorFormSessionObj({sessionId:el.dataset.sessionid,sessionValue:{value:PE.downPayment}})}),paymentCalcChangeEvent($(this).data("column"),PE)}),$("#xb-main-content-wrapper").on("blur change",".edit-fields.trade_in_field",function(){var cleanVal=PE.BusinessLogic.cleanNum(this.value),self=this;this.value=0===this.value.length?0:this.value,$(".edit-fields.trade_in_field").each(function(i,el){var column=$(el).data("column"),peColumnValue=PE.offerData[column],peSharedInputs=PE.offerData.sharedInputs,peSharedInputTradeInValue=peSharedInputs&&peSharedInputs.tradeInValue;PE.BusinessLogic.monthlyPayment({id:el.name,value:cleanVal,type:column}),self!==el&&(void 0!==peColumnValue?el.value=PE.offerData[column].tradeInValue:void 0!==peSharedInputTradeInValue&&(el.value=peSharedInputTradeInValue))}),paymentCalcChangeEvent($(this).data("column"),PE)}),$("#xb-main-content-wrapper").on("blur change",".edit-fields.dealer_discount_field",function(){var cleanVal=PE.BusinessLogic.cleanNum(this.value),self=this;this.value=0===this.value.length?0:this.value,$(".edit-fields.dealer_discount_field").each(function(i,el){var column=$(el).data("column"),peColumnValue=PE.offerData[column],peSharedInputs=PE.offerData.sharedInputs,peSharedInputDealerDiscount=peSharedInputs&&peSharedInputs.dealerDiscount;PE.BusinessLogic.monthlyPayment({id:el.name,value:cleanVal,type:column}),self!==el&&(void 0!==peColumnValue?el.value=PE.offerData[column].dealerDiscount:void 0!==peSharedInputDealerDiscount&&(el.value=peSharedInputDealerDiscount))}),paymentCalcChangeEvent($(this).data("column"),PE)}),$("#xb-main-content-wrapper").on("blur change",".edit-fields.user_rate_field",function(){PE.isDebug&&console.log("[ user_rate_field BLUR ]");var column=$(this).data("column");this.value=0===this.value.length?0:this.value,cllc.context.set("rate_type","radio_user_rate"),cllc.context.set("rate_value",this.value),$(this).prop("value",this.value).attr("value",this.value),paymentCalcChangeEvent(column,PE)}),$("#xb-main-content-wrapper").on("change",'input:radio[name="radio_apr"]',function(){var incentives;PE.isDebug&&console.log("[ radio_apr click ]");var standardRateValue=$("#radio_standard_rate").val(),userRateValue=$(".user_rate_field").prop("value"),termtype=$(".buy-column .gc-forms-dropdown.term-dropdown select option:selected").attr("data-termtype"),isUserRate="radio_user_rate"===this.id,rateValue=isUserRate?userRateValue:standardRateValue;isUserRate?(PE.offerData.cash&&PE.offerData.cash.incentives_object&&(incentives=PE.offerData.cash.incentives_object.incentives),$(".buy-column .term-container .user-disclaimer").show(),$(".user-rate .bubble").attr("tabindex","0"),$(".user-rate .user_rate_field").attr("tabindex","0")):(cllc.context.set("chryslerOfferType",termtype),PE.offerData.buy.offerType=termtype,incentives=PE.offerData.buy.incentives_object[termtype].incentives,$(".buy-column .term-container .user-disclaimer").hide());var data=PE.BusinessLogic.cashIncentives(incentives);$(".buy-column .row-incentives th").html(data.left),$(".buy-column .row-incentives td").html(data.right),PE.offerData.buy.cash=PE.BusinessLogic.totalCashIncentives(incentives),$(".buy-column .total-incentives-amount").html("-$"+PE.offerData.buy.cash.format("#,#")),cllc.context.set("rate_type",this.id),cllc.context.set("rate_value",rateValue),paymentCalcChangeEvent($(this).data("column"),PE)}),$(".gc-forms-radio.standard-rate").on("focusin",function(e){if("radio_user_rate"===$('input:radio[name="radio_apr"]:checked').attr("id")&&e.target.classList.contains("bubble"))if(e.relatedTarget&&"radio_user_rate"===e.relatedTarget.id){var tabbables=$('form[name="buy-form"]').find(":tabbable"),index=tabbables.index($("#radio_standard_rate"))-1;tabbables[index].focus()}else e.relatedTarget&&document.querySelector("#radio_user_rate").focus();else"radio_standard_rate"===e.target.id&&($(".user-rate .bubble").attr("tabindex","-1"),$(".user-rate .user_rate_field").attr("tabindex","-1"))});var phoneField=document.querySelector("#phone");phoneField&&phoneField.addEventListener("blur",function(e){var parsedPhoneNumber=function(value){var returnValue={areaCode:"",phonePrefix:"",phoneLineNumber:""},noSpace=value.replace(/[\- ]/g,"");if(noSpace.match(/^(\(\d{3}\)\d{7}|\d{10})$/)){var noFormat=noSpace.replace(/[\(\)]/g,"");returnValue={areaCode:noFormat.substring(0,3),phonePrefix:noFormat.substring(3,6),phoneLineNumber:noFormat.substring(6)}}return returnValue}(e.target.value),areaCode=parsedPhoneNumber.areaCode,phonePrefix=parsedPhoneNumber.phonePrefix,phoneLineNumber=parsedPhoneNumber.phoneLineNumber;"blur"===e.type&&""!==areaCode&&(e.target.value="("+areaCode+") "+phonePrefix+" - "+phoneLineNumber)}),$(window).load(function(){PaymentCalcInitTabs(),PaymentCalcInitVehicleToggle(),changeVehicleAnalyticsFire()})}(jQuery)}();